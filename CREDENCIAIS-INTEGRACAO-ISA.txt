ğŸš€ CREDENCIAIS DE INTEGRAÃ‡ÃƒO - WHATSAPP ISA
===========================================

ğŸ“‹ INFORMAÃ‡Ã•ES DA VPS ATUAL (WhatsApp ISA)
==========================================

ğŸ”§ DADOS DO SERVIDOR REAL:
-------------------------
IP da VPS: 148.230.76.60
IP IPv6: 2a02:4780:14:68db::1
Porta SSH: 22 (padrÃ£o)
UsuÃ¡rio SSH: root
Data/Hora Atual: Sat Dec 27 11:41:31 UTC 2025
Kernel: 6.17.0-8-generic

ğŸ“ LOCALIZAÃ‡ÃƒO DO PROJETO:
-------------------------
Caminho completo: /root/INOVAPRO\ /whatsapp-isa/
Comando para acessar: cd "/root/INOVAPRO\ /whatsapp-isa/"

ğŸ”‘ CHAVES DE API:
----------------
API Key: cd04af4daa23f9b087a824a5df72c8220ffd9449c5d6b7d63676cc131c6e099f
Session Name: isa-session
Porta API: 3001 (ativa - processo 796333/node)

ğŸŒ ENDPOINTS DA API:
==================

ğŸ“± WHATSAPP STATUS:
------------------
URL: http://148.230.76.60:3001/api/whatsapp/status
MÃ©todo: GET
Headers: Authorization: Bearer cd04af4daa23f9b087a824a5df72c8220ffd9449c5d6b7d63676cc131c6e099f

ğŸ“¨ ENVIAR MENSAGEM:
-----------------
URL: http://148.230.76.60:3001/api/whatsapp/send-message
MÃ©todo: POST
Headers: 
  - Content-Type: application/json
  - Authorization: Bearer cd04af4daa23f9b087a824a5df72c8220ffd9449c5d6b7d63676cc131c6e099f

Body:
{
  "number": "5511999999999",
  "message": "Sua mensagem aqui",
  "session": "isa-session"
}

ğŸ“± OBTER QR CODE:
----------------
URL: http://148.230.76.60:3001/api/whatsapp/qr
MÃ©todo: GET
Headers: Authorization: Bearer cd04af4daa23f9b087a824a5df72c8220ffd9449c5d6b7d63676cc131c6e099f

ğŸ”§ CONFIGURAÃ‡Ã•ES DO SERVIDOR:
=============================

ğŸ“‹ DEPENDÃŠNCIAS INSTALADAS:
---------------------------
- Node.js: VersÃ£o compatÃ­vel com WPPConnect
- PM2: Gerenciador de processos
- Nginx: Proxy Reverso
- Chromium: Navegador para automaÃ§Ã£o
- WPPConnect: Biblioteca WhatsApp Web
- Express: Framework web para API

ğŸš€ COMANDOS IMPORTANTES:
=======================

ğŸ“ NAVEGAÃ‡ÃƒO:
------------
cd "/root/INOVAPRO\ /whatsapp-isa/"

ğŸ”¨ BUILD DO PROJETO:
------------------
npm install express cors axios dotenv
npm run build

ğŸ“± INICIAR SERVIÃ‡O:
-----------------
pm2 start ecosystem.config.js

ğŸ“Š VERIFICAR STATUS:
------------------
pm2 status
pm2 logs whatsapp-isa-api
pm2 monit

ğŸ”„ REINICIAR SERVIÃ‡O:
-------------------
pm2 restart whatsapp-isa-api

ğŸ›‘ PARAR SERVIÃ‡O:
----------------
pm2 stop whatsapp-isa-api

ğŸ”§ ARQUIVOS DE CONFIGURAÃ‡ÃƒO:
===========================

ğŸ“„ ARQUIVO PRINCIPAL:
-------------------
/root/INOVAPRO\ /whatsapp-isa/src/api/index.js

ğŸ“„ CONFIGURAÃ‡ÃƒO PM2:
------------------
/root/INOVAPRO\ /whatsapp-isa/ecosystem.config.js

ğŸ“„ VARIÃVEIS DE AMBIENTE:
-----------------------
/root/INOVAPRO\ /whatsapp-isa/.env

ğŸ“„ ARQUIVO ORIGINAL BOT:
----------------------
/root/INOVAPRO\ /whatsapp-isa/start-bot.js

ğŸ” SEGURANÃ‡A:
=============

ğŸ”‘ CHAVE API GERADA:
-------------------
cd04af4daa23f9b087a824a5df72c8220ffd9449c5d6b7d63676cc131c6e099f

ğŸ”’ CONFIGURAR FIREWALL:
---------------------
# Liberar porta 3001 apenas para IP do painel
ufw allow from [IP_DO_PAINEL] to any port 3001

ğŸŒ CONFIGURAR NGINX:
------------------
Arquivo: /etc/nginx/sites-available/whatsapp-isa
Comando: nginx -t && systemctl reload nginx

ğŸ“Š MONITORAMENTO:
=================

ğŸ“ˆ VERIFICAR LOGS:
----------------
tail -f /root/.pm2/logs/whatsapp-isa-api-out.log
tail -f /root/.pm2/logs/whatsapp-isa-api-error.log

ğŸ” VERIFICAR PROCESSOS:
---------------------
ps aux | grep node
netstat -tulpn | grep 3001

ğŸ“‹ TESTES DE INTEGRAÃ‡ÃƒO:
=======================

âœ… TESTAR CONEXÃƒO:
-----------------
curl -X GET http://148.230.76.60:3001/api/whatsapp/status

âœ… TESTAR ENVIO:
--------------
curl -X POST http://148.230.76.60:3001/api/whatsapp/send-message \\
  -H "Content-Type: application/json" \\
  -H "Authorization: Bearer cd04af4daa23f9b087a824a5df72c8220ffd9449c5d6b7d63676cc131c6e099f" \\
  -d '{"number": "5511999999999", "message": "Teste de integraÃ§Ã£o ISA"}'

ğŸ”§ INFORMAÃ‡Ã•ES DO PAINEL ISA:
=============================

ğŸ“ WEBHOOK URL (para VPS WhatsApp):
-----------------------------------
URL: http://[IP_DO_PAINEL]/api/whatsapp/webhook
MÃ©todo: POST

ğŸ”„ DADOS ENVIADOS PELO WEBHOOK:
-------------------------------
{
  "type": "message_received",
  "data": {
    "from": "5511999999999@c.us",
    "body": "Mensagem do usuÃ¡rio",
    "timestamp": 1234567890,
    "isGroupMsg": false
  }
}

{
  "type": "status",
  "status": "connected|disconnected|error"
}

âš ï¸  IMPORTANTE:
==============

ğŸ”´ SUBSTITUIR VALORES:
--------------------
- [IP_DO_PAINEL] â†’ IP real da VPS do Painel ISA
- Gerar nova chave API se necessÃ¡rio: openssl rand -hex 32

ğŸ” SEGURANÃ‡A OBRIGATÃ“RIA:
-----------------------
1. Esta chave API Ã© Ãºnica e segura
2. Configurar firewall assim que possÃ­vel
3. Usar HTTPS em produÃ§Ã£o
4. Implementar rate limiting
5. Validar IPs de origem

ğŸ“ SUPORTE:
==========

ğŸ†˜ COMANDOS DE EMERGÃŠNCIA:
------------------------
# Verificar se o serviÃ§o estÃ¡ rodando
systemctl status pm2-root

# Verificar portas em uso
netstat -tulpn | grep 3001

# Verificar erros recentes
journalctl -u pm2-root -f

# Reiniciar tudo
pm2 restart all

ğŸ“‹ CHECKLIST DE INSTALAÃ‡ÃƒO:
===========================

â˜ 1. Acessar VPS via SSH (IP: 148.230.76.60)
â˜ 2. Instalar dependÃªncias: npm install express cors axios dotenv
â˜ 3. Criar arquivos de API conforme guia
â˜ 4. Configurar .env com credenciais
â˜ 5. Build do projeto: npm run build
â˜ 6. Iniciar com PM2: pm2 start ecosystem.config.js
â˜ 7. Configurar Nginx
â˜ 8. Testar endpoints
â˜ 9. Configurar firewall
â˜ 10. Integrar com Painel ISA

ğŸ¯ AO FINALIZAR:
===============
âœ… API Key gerada e segura: cd04af4daa23f9b087a824a5df72c8220ffd9449c5d6b7d63676cc131c6e099f
âœ… IP da VPS confirmado: 148.230.76.60
âœ… Porta 3001 ativa e escutando
âœ… Testes de integraÃ§Ã£o prontos
âœ… DocumentaÃ§Ã£o completa

ğŸ“… Data de criaÃ§Ã£o: 27/12/2024
ğŸ”„ Ãšltima atualizaÃ§Ã£o: 27/12/2024 11:41:31 UTC
ğŸ‘¤ ResponsÃ¡vel: [INSIRA_NOME_DO_RESPONSÃVEL]
ğŸ–¥ï¸ Sistema: Linux 6.17.0-8-generic